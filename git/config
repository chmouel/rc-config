[user]
    name = Chmouel Boudjnah
    email = chmouel@chmouel.com
    signingkey = 8E00E7B02807E02D

# one day you will be mine https://twitter.com/chmouel/status/1463206573602394118
# [gpg]
#     format = ssh
# [gpg "ssh"]
#     defaultKeyCommand = ssh-add -L
#     allowedSignersFile = ~/.ssh/allowed_signers

[IncludeIF "gitdir:~/GIT/go/src/github.com/tektoncd*/"]
    path = ~/.config/git/local.redhat

[IncludeIF "gitdir/i:~/GIT/go/src/github.com/openshift*/"]
    path = ~/.config/git/local.redhat

[core]
    quotepath = false
    whitespace=fix,-indent-with-non-tab,trailing-space,cr-at-eol
    autocrlf = input

[diff]
    mynemonicprefix = true

[merge]
    tool = emerge

[push]
    default = matching

[color]
    ui = true

[grep]
    lineNumbeR = true

[commit]
    verbose = true

[alias]
    #Aliases
    workon = git-workon
    amend = commit --amend -v -s
    clone1 = clone --depth=1
    sp = stash show -p
    st = status -sb
    bl = branch -l
    co = checkout
    cp = cherry-pick

    # GitHUB
    ampf = "!git amend -a&& git push --force chmouel $(git rev-parse --abbrev-ref HEAD)"
    pprupstream = "!git ppr upstream chmouel"
    pprorigin = "!git ppr origin chmouel"
    ppropenshift = "!git ppr openshift chmouel"

    magit-show = "!f() { emacsclient -n -c -e '(magit-show-commit \"'$1'\")' ;}; f $@"

    # Diffs
    ediff = difftool -y --tool=ediff
    elast = difftool -y --tool=ediff HEAD^..HEAD
    vdiff = difftool -y --tool=vimdiff2
    vlast = difftool -y --tool=vimdiff2 HEAD^..HEAD

    # Misc
    branch-date = "!git for-each-ref --sort=committerdate --format='%1B[32m%(committerdate:iso8601) %1B[34m%(committerdate:relative) %1B[0;m%(refname:short)' refs/heads/"
    log = log --no-merges --date=human
    showe = show --ext-diff
    diffn = diff --no-ext-diff
	lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --

[hub]
    protocol = https

[pull]

[include]
    path = ~/.config/git/local

[http]
    sslVerify = true

[filter "lfs"]
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true
    clean = git-lfs clean -- %f

[init]
    defaultBranch = main

[include]
    path = ~/.gitconfig.local

[pull]
	rebase = true

[diff]
    tool = nvimdiff

[difftool]
    prompt = false

[init]
    defaultBranch = main

[include]
    path = ~/.config/git/local
