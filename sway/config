# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

## Variables
set $super Mod4
set $alt Mod1

set $term kitty
set $menu mounch -p
set $wsfirefox 1
set $wscode 2
set $wschat 3
set $wschrome 4
set $wsother 5

# settings
output * bg ~/.local/share/backgrounds/sway.jpg fill
focus_on_window_activation focus
font pango: RobotoMono Nerd Font Regular 0
floating_modifier $super normal
titlebar_border_thickness 1
titlebar_padding 2
title_align center
default_border pixel 2px
smart_borders on
focus_follows_mouse no

smart_gaps off
gaps inner 5
gaps outer 1

input type:keyboard {
    xkb_layout us
    xkb_options ctrl:nocaps,compose:menu
    xkb_numlock enable
}

input type:touchpad {
    middle_emulation enabled
    tap enabled
}

input type:pointer {
      accel_profile "adaptive"
      pointer_accel "0"
}

client.focused #bd93f9 #bd93f9  #000000 #ffcfaf

# client.focused          #6272A4 #6272A4 #F8F8F2 #6272A4   #6272A4
client.focused_inactive #44475A #44475A #F8F8F2 #44475A   #44475A
# client.unfocused        #282A36 #282A36 #BFBFBF #282A36   #282A36
# client.focused_inactive           #44475A #FF5555 #F8F8F2 #FF5555   #FF5555
# client.placeholder      #282A36 #282A36 #F8F8F2 #282A36   #282A36
# client.background       #F8F8F2

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar {
     swaybar_command waybar
}

for_window [app_id="^floater$"] floating enable, sticky enable, border pixel 10
for_window [class="^firefox"] move container to workspace $wsfirefox
for_window [app_id="firefox"] move container to workspace $wsfirefox
for_window [app_id="firefox" title="^Picture-in-Picture$"] floating enable; sticky enable
for_window [app_id="firefox" title="Firefox â€” Sharing Indicator"] floating enable; sticky enable
for_window [app_id="firefox"] inhibit_idle fullscreen
for_window [class="^Google-chrome"] move container to workspace $wschrome
for_window [app_id="^chromium"] move container to workspace $wschrome
for_window [app_id="^emacs"] move container to workspace $wscode;workspace $wscode
for_window [class="Code"] move container to workspace $wscode
for_window [class="jetbrains-goland"] move container to workspace $wscode
for_window [class="^Slack"] move container to workspace $wschat
for_window [title="(?:Open|Save) (?:File|Folder|As)"] floating enable; sticky enable
for_window [instance="dropdown"] floating enable, border none, resize set height 1170px, move absolute position center
for_window [app_id="pavucontrol"] floating enable
for_window [class="^floater$"] floating enable, sticky enable, resize set 30 ppt 60 ppt, border pixel 3
for_window [app_id="^SpotifyClient"] floating enable, move scratchpad, border pixel 3, scratchpad show
for_window [app_id=(nm-connection-editor|org.gnome.Weather)] floating enable
for_window [app_id=(nm-connection-editor|org.gnome.Weather)] focus

exec_always swaymsg -t get_outputs | jq -r .[].name|grep -q HDMI-A-1 && swaymsg "output eDP-1 disable"
exec kanshi &
exec /usr/lib/goa-daemon --replace
exec wl-paste -t text --watch clipman store --max-items=100
exec xsettingsd &
exec mako &
exec systemctl --user restart libinput-gestures.service

# exec nm-applet --indicator &
exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY GDMSESSION XDG_CURRENT_DESKTOP=sway
exec dbus-update-activation-environment --systemd SWAYSOCK=$SWAYSOCK
exec gnome-keyring-daemon --daemonize --login --start "--components=gpg,pkcs11,secrets,ssh"
#exec /bin/sh -c 'cd /home/chmouel/GIT/go/src/github.com/chmouel/gnome-next-meeting-applet;poetry run gnome-next-meeting-applet'
#exec "flatpak run com.chmouel.gnomeNextMeetingApplet"
exec gammastep -l 48.8566:2.3522 &

set $locker swaylock \
    -f \
	--screenshots \
	--clock \
	--indicator \
	--indicator-radius 100 \
	--indicator-thickness 7 \
	--effect-blur 7x5 \
	--effect-vignette 0.5:0.5 \
	--ring-color bb00cc \
	--key-hl-color 880033 \
	--line-color 00000000 \
	--inside-color 00000088 \
	--separator-color 00000000 \
	--grace 2 \
	--fade-in 0.2
exec swayidle -w timeout 300 "$locker" timeout 150 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' before-sleep "$locker" lock "$locker" &


include keybindings.conf
include /etc/sway/config.d/*
